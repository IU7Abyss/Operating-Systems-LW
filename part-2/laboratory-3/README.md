# Лабораторная работа №3

## Постановка задачи

Расширить функционал ядра с помощью своего *LKM* (на примере судьбоносных печенек).

## Файловая система /proc

*Начальная концепция:* средство предоставления информации о выполняющихся процеcсах

`/proc` содержит:
* директории для структурирования информации
* виртуальные файлы

*Виртуальные файлы:* средство передачи информации из _kernel_ (в _kernel_).

```
$ ls /proc
```

* файл с номерным именем: директория, содержащая информацию о выполняющимся процессе;
* `cpuinfo`: информация о типе и производительности ЦП;
* `pci`: устройства на шине PCI;
* `modules`: модули загруженные в ядро.


## Загружаемый модуль ядра (LKM)

*Проблема:* ограичение по памяти => необходимо компактное ядро => нужно убрать код, который не используется постоянно => необходим некоторый механизи.

*Решение:* LKM

*Пример:* Драйверы для подключаемых устройств

*LKM* позволяет расширять функционал _kernel_ без повторной компиляции. LKM - удобное средство реалиизации драйверов и файловых систем.

Пример простого LKM разобран в папке `example` (работает с kernel 3.8.0-29 и ниже)

## Полезные ссылки

* [Статья IBM developerWorks на русском (kernel < 3.11.1)](http://www.ibm.com/developerworks/ru/library/l-proc/)
* [Её оригинал](http://www.ibm.com/developerworks/linux/library/l-proc/index.html)
* [StackOverflow proc_create()](http://stackoverflow.com/questions/8516021/proc-create-example-for-kernel-module)
* [Linux: Creating an entry in /proc file system](http://pointer-overloading.blogspot.in/2013/09/linux-creating-entry-in-proc-file.html)